<mule xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:akv="http://www.mulesoft.org/schema/mule/akv"
      xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
          http://www.mulesoft.org/schema/mule/akv http://www.mulesoft.org/schema/mule/akv/current/mule-akv.xsd">

    <akv:config name="config" >
        <akv:connection vaultName="${AZURE_VAULT_NAME}" tenantId="${AZURE_TENANT_ID}" clientId="${AZURE_CLIENT_ID}" clientSecret="${AZURE_CLIENT_SECRET}" />
    </akv:config>

    <flow name="getKeyTest" >
        <akv:get-key config-ref="config" keyName="${AKV_TEST_KEY_NAME}"/>
    </flow>

    <flow name="getSecretTest" >
        <akv:get-secret config-ref="config" secretName="${AKV_TEST_SECRET_NAME}"/>
    </flow>

    <flow name="getCertificateTest" >
        <akv:get-certificate config-ref="config" certificateName="${AKV_TEST_CERTIFICATE_NAME}"/>
    </flow>
</mule>
